Предусмловия из ТЗ:
Файлы складываются в определенный каталог на SFTP сервере




На SFTP сервере может быть множество папок.
При перемещении файла из одной папки в другую, либо при изменении файла, не нужно скачивать файл повторно.
Для идентификации файла можно хранить в БД идентификатор файла например имя+размер+время_изменения.
Возможно поможет inode.
Если SFTP сервер поддерживает inode, то намного проще идентифицировать файл.


Получение информации о новых файлах на sftp сервере
polling каждые 5 сек <--
inotify
watchdog



